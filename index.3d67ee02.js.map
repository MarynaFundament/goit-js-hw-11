{"mappings":"AAGA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAYH,SAASC,cAAc,gCAG/BG,EAAiB,ICTR,MAOXC,gBACIC,QAAQC,IAAIC,MACZ,MAMQC,EAAM,uCAAuCD,KAAKE,2CAA2CF,KAAKG,OAExG,OAAOC,MAAMH,EARC,CACZI,QAAS,CACJC,cAAe,sCAOrBC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJV,KAAKG,MAAQ,EAENO,EAAKC,W,CAKxBC,YACIZ,KAAKG,KAAO,C,CAGZU,YACJ,OAAOb,KAAKE,W,CAIRW,UAAMC,GACPd,KAAKE,YAAcY,C,CApClBC,cACGf,KAAKE,YAAc,IACnBF,KAAKG,KAAO,C,GDQnBb,EAAKC,WAAWyB,iBAAiB,UAGjC,SAAkBC,GAClBA,EAAEC,iBAEFtB,EAAeiB,MAAQI,EAAEE,cAAcC,SAASP,MAAMQ,MACtDzB,EAAegB,YACfhB,EAAeC,cAAcK,Y,IAP7BZ,EAAKK,YAAYqB,iBAAiB,SAYlC,WAEEpB,EAAeC,cAAcK,Y","sources":["src/index.js","src/components/news-service.js"],"sourcesContent":["import './css/common.css'\nimport NewsApiService from './components/news-service'\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n  loadMoreBtn:document.querySelector('[data-action = \"load-more\"]'),\n}\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch)\nrefs.loadMoreBtn.addEventListener('click', onLoadMore)\n\nfunction onSearch(e){\ne.preventDefault();\n \nnewsApiService.query = e.currentTarget.elements.query.value;\nnewsApiService.resetPage();\nnewsApiService.fetchArticles(searchQuery);\n\n}\n\n\nfunction onLoadMore(){\n\n  newsApiService.fetchArticles(searchQuery);\n}\n\n\n\n\n\n","export default class NewsApiService{\n    constructor(){\n       this.searchQuery = ' ';\n       this.page = 1;\n    }\n\n\n    fetchArticles(){\n        console.log(this)\n        const options = {\n            headers: {\n                 authorization: '4330ebfabc654a6992c2aa792f3173a3'\n                }\n            }\n            \n          const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n          \n          return fetch(url, options)\n          .then(r => r.json())\n          .then(data => {\n            this.page += 1;\n\n            return data.articles\n          })\n\n    }\n\nresetPage() {\n    this.page = 1;\n}\n\nget query(){\nreturn this.searchQuery\n}\n\n\nset query(newQuery){\n   this.searchQuery = newQuery;\n\n    }\n    \n\n\n\n}\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","$1f0dc3b9307be026$var$newsApiService","fetchArticles","console","log","this","url","searchQuery","page","fetch","headers","authorization","then","r","json","data","articles","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.3d67ee02.js.map"}